{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kgoth\\\\Documents\\\\Personal Projects\\\\Chess_Game\\\\src\\\\components\\\\Board\\\\Pieces\\\\Pieces.js\",\n  _s = $RefreshSig$();\nimport './Pieces.css';\nimport Piece from './Piece';\nimport { useRef, useState } from 'react';\n\n// import { getNewMoveNotation } from '../../helper'\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Pieces = () => {\n  _s();\n  const {\n    appState,\n    dispatch\n  } = useAppContext();\n  const currentPosition = appState.position[appState.position.length - 1];\n  const position = new Array(8).fill().map((x, i) => new Array(8).fill(null));\n  for (let i = 0; i < 8; i++) {\n    position[1][i] = \"wp\";\n    position[6][i] = \"bp\";\n  }\n  position[0][0] = 'wr';\n  position[0][1] = 'wn';\n  position[0][2] = 'wb';\n  position[0][3] = 'wq';\n  position[0][4] = 'wk';\n  position[0][5] = 'wb';\n  position[0][6] = 'wn';\n  position[0][7] = 'wr';\n  position[7][0] = 'br';\n  position[7][1] = 'bn';\n  position[7][2] = 'bb';\n  position[7][3] = 'bq';\n  position[7][4] = 'bk';\n  position[7][5] = 'bb';\n  position[7][6] = 'bn';\n  console.log(position);\n  const calculateCoords = e => {\n    const {\n      top,\n      left,\n      width\n    } = ref.current.getBoundingClientRect();\n    const size = width / 8;\n    const y = Math.floor((e.clientX - left) / size);\n    const x = 7 - Math.floor((e.clientY - top) / size);\n    return {\n      x,\n      y\n    };\n  };\n  const onDrop = e => {\n    e.preventDefault();\n    move(e);\n  };\n  const onDragOver = e => {\n    e.preventDefault();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pieces\",\n    ref: ref,\n    onDrop: onDrop,\n    onDragOver: onDragOver,\n    children: currentPosition.map((r, rank) => r.map((f, file) => currentPosition[rank][file] ? /*#__PURE__*/_jsxDEV(Piece, {\n      rank: rank,\n      file: file,\n      piece: currentPosition[rank][file]\n    }, rank + '-' + file, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }, this) : null))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 12\n  }, this);\n};\n_s(Pieces, \"9HfR4pGMswhBysZW+/Nr6Oc3i60=\", true);\n_c = Pieces;\nexport default Pieces;\nvar _c;\n$RefreshReg$(_c, \"Pieces\");","map":{"version":3,"names":["Piece","useRef","useState","jsxDEV","_jsxDEV","Pieces","_s","appState","dispatch","useAppContext","currentPosition","position","length","Array","fill","map","x","i","console","log","calculateCoords","e","top","left","width","ref","current","getBoundingClientRect","size","y","Math","floor","clientX","clientY","onDrop","preventDefault","move","onDragOver","className","children","r","rank","f","file","piece","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/kgoth/Documents/Personal Projects/Chess_Game/src/components/Board/Pieces/Pieces.js"],"sourcesContent":["import './Pieces.css'\r\nimport Piece from './Piece'\r\nimport { useRef, useState  } from 'react'\r\n\r\n// import { getNewMoveNotation } from '../../helper'\r\n\r\nconst Pieces = () => {\r\n    const { appState , dispatch } = useAppContext();\r\n    const currentPosition = appState.position[appState.position.length-1]\r\n    \r\n    const position = new Array(8).fill().map((x, i) => new Array(8).fill(null));\r\n    for (let i = 0; i < 8; i++) {\r\n        position[1][i] = \"wp\"\r\n        position[6][i] = \"bp\"\r\n    }\r\n    position[0][0] = 'wr';\r\n    position[0][1] = 'wn';\r\n    position[0][2] = 'wb';\r\n    position[0][3] = 'wq';\r\n    position[0][4] = 'wk';\r\n    position[0][5] = 'wb';\r\n    position[0][6] = 'wn';\r\n    position[0][7] = 'wr';\r\n\r\n    position[7][0] = 'br';\r\n    position[7][1] = 'bn';\r\n    position[7][2] = 'bb';\r\n    position[7][3] = 'bq';\r\n    position[7][4] = 'bk';\r\n    position[7][5] = 'bb';\r\n    position[7][6] = 'bn';\r\n\r\n    console.log(position);\r\n    \r\n    const calculateCoords = e => {\r\n        const {top,left,width} = ref.current.getBoundingClientRect()\r\n        const size = width / 8\r\n        const y = Math.floor((e.clientX - left) / size) \r\n        const x = 7 - Math.floor((e.clientY - top) / size)\r\n\r\n        return {x,y}\r\n    }\r\n\r\n   const onDrop = e => {\r\n        e.preventDefault()        \r\n        move (e)\r\n    }\r\n    \r\n    const onDragOver = e => {e.preventDefault()}\r\n\r\n    return <div \r\n        className='pieces' \r\n        ref={ref} \r\n        onDrop={onDrop} \r\n        onDragOver={onDragOver} > \r\n        {currentPosition.map((r,rank) => \r\n            r.map((f,file) => \r\n                currentPosition[rank][file]\r\n                ?   <Piece \r\n                        key={rank+'-'+file} \r\n                        rank = {rank}\r\n                        file = {file}\r\n                        piece = {currentPosition[rank][file]}\r\n                    />\r\n                :   null\r\n            )   \r\n        )}\r\n    </div>\r\n    \r\n}\r\nexport default Pieces;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}