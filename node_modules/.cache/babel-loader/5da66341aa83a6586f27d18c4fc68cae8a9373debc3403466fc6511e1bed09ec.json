{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kgoth\\\\Documents\\\\Personal Projects\\\\Chess_Game\\\\src\\\\components\\\\Board\\\\Pieces\\\\Pieces.js\",\n  _s = $RefreshSig$();\nimport './Pieces.css';\nimport Piece from './Piece';\nimport { useRef, useState } from 'react';\nimport { getNewMoveNotation } from '../../helper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Pieces = () => {\n  _s();\n  const ref = useRef();\n  const [state, setState] = useState(createPosition());\n  const position = new Array(8).fill().map((x, i) => new Array(8).fill(null));\n  for (let i = 0; i < 8; i++) {\n    position[1][i] = \"wp\";\n    position[6][i] = \"bp\";\n  }\n  position[0][0] = 'wr';\n  position[0][1] = 'wn';\n  position[0][2] = 'wb';\n  position[0][3] = 'wq';\n  position[0][4] = 'wk';\n  position[0][5] = 'wb';\n  position[0][6] = 'wn';\n  position[0][7] = 'wr';\n  position[7][0] = 'br';\n  position[7][1] = 'bn';\n  position[7][2] = 'bb';\n  position[7][3] = 'bq';\n  position[7][4] = 'bk';\n  position[7][5] = 'bb';\n  position[7][6] = 'bn';\n  console.log(currentPosition);\n  const calculateCoords = e => {\n    const {\n      top,\n      left,\n      width\n    } = ref.current.getBoundingClientRect();\n    const size = width / 8;\n    const y = Math.floor((e.clientX - left) / size);\n    const x = 7 - Math.floor((e.clientY - top) / size);\n    return {\n      x,\n      y\n    };\n  };\n  const onDrop = e => {\n    e.preventDefault();\n    const {\n      x,\n      y\n    } = calculateCoords(e);\n    // TODO: Implement move logic\n  };\n  const onDragOver = e => {\n    e.preventDefault();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pieces\",\n    ref: ref,\n    onDrop: onDrop,\n    onDragOver: onDragOver,\n    children: currentPosition.map((r, rank) => r.map((f, file) => currentPosition[rank][file] ? /*#__PURE__*/_jsxDEV(Piece, {\n      rank: rank,\n      file: file,\n      piece: currentPosition[rank][file]\n    }, rank + '-' + file, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }, this) : null))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 12\n  }, this);\n};\n_s(Pieces, \"BUL82JwlvyhHB4UzCkP6b1B4MnU=\");\n_c = Pieces;\nexport default Pieces;\nvar _c;\n$RefreshReg$(_c, \"Pieces\");","map":{"version":3,"names":["Piece","useRef","useState","getNewMoveNotation","jsxDEV","_jsxDEV","Pieces","_s","ref","state","setState","createPosition","position","Array","fill","map","x","i","console","log","currentPosition","calculateCoords","e","top","left","width","current","getBoundingClientRect","size","y","Math","floor","clientX","clientY","onDrop","preventDefault","onDragOver","className","children","r","rank","f","file","piece","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/kgoth/Documents/Personal Projects/Chess_Game/src/components/Board/Pieces/Pieces.js"],"sourcesContent":["import './Pieces.css'\r\nimport Piece from './Piece'\r\nimport { useRef, useState  } from 'react'\r\n\r\nimport { getNewMoveNotation } from '../../helper'\r\n\r\nconst Pieces = () => {\r\n    const ref = useRef()\r\n    const [state, setState] = useState(createPosition());\r\n    \r\n    const position = new Array(8).fill().map((x, i) => new Array(8).fill(null));\r\n    for (let i = 0; i < 8; i++) {\r\n        position[1][i] = \"wp\"\r\n        position[6][i] = \"bp\"\r\n    }\r\n    position[0][0] = 'wr';\r\n    position[0][1] = 'wn';\r\n    position[0][2] = 'wb';\r\n    position[0][3] = 'wq';\r\n    position[0][4] = 'wk';\r\n    position[0][5] = 'wb';\r\n    position[0][6] = 'wn';\r\n    position[0][7] = 'wr';\r\n\r\n    position[7][0] = 'br';\r\n    position[7][1] = 'bn';\r\n    position[7][2] = 'bb';\r\n    position[7][3] = 'bq';\r\n    position[7][4] = 'bk';\r\n    position[7][5] = 'bb';\r\n    position[7][6] = 'bn';\r\n\r\nconsole.log(currentPosition);\r\n    \r\n    const calculateCoords = (e) => {\r\n        const {top,left,width} = ref.current.getBoundingClientRect()\r\n        const size = width / 8\r\n        const y = Math.floor((e.clientX - left) / size) \r\n        const x = 7 - Math.floor((e.clientY - top) / size)\r\n\r\n        return {x,y}\r\n    }\r\n\r\n   const onDrop = (e) => {\r\n        e.preventDefault()\r\n        const { x, y } = calculateCoords(e);\r\n        // TODO: Implement move logic\r\n    }\r\n    \r\n    const onDragOver = e => {e.preventDefault()}\r\n\r\n    return <div \r\n        className='pieces' \r\n        ref={ref} \r\n        onDrop={onDrop} \r\n        onDragOver={onDragOver} > \r\n        {currentPosition.map((r,rank) => \r\n            r.map((f,file) => \r\n                currentPosition[rank][file]\r\n                ?   <Piece \r\n                        key={rank+'-'+file} \r\n                        rank = {rank}\r\n                        file = {file}\r\n                        piece = {currentPosition[rank][file]}\r\n                    />\r\n                :   null\r\n            )   \r\n        )}\r\n    </div>\r\n    \r\n}\r\nexport default Pieces;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}