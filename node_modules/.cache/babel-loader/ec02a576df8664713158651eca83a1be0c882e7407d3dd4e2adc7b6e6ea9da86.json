{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kgoth\\\\Documents\\\\Personal Projects\\\\Chess_Game\\\\src\\\\components\\\\Board\\\\Pieces\\\\Piece.js\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// import arbiter from '../../arbiter/arbiter';\n// import { useAppContext }from '../../contexts/Context'\n// import { generateCandidates } from '../../reducer/actions/move';\n\nconst Piece = ({\n  rank,\n  file,\n  piece\n}) => {\n  _s();\n  const {\n    appState,\n    dispatch\n  } = useAppContext();\n  const {\n    turn,\n    castleDirection,\n    position: currentPosition\n  } = appState;\n  const onDragStart = e => {\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"text/plain\", `${piece},${rank},${file}`);\n    setTimeout(() => {\n      e.target.style.display = 'none';\n    }, 0);\n    if (turn === piece[0]) {\n      const candidateMoves = arbiter.getValidMoves({\n        position: currentPosition[currentPosition.length - 1],\n        prevPosition: currentPosition[currentPosition.length - 2],\n        castleDirection: castleDirection[turn],\n        piece,\n        file,\n        rank\n      });\n      dispatch(generateCandidates({\n        candidateMoves\n      }));\n    }\n  };\n  const onDragEnd = e => {\n    e.target.style.display = 'block';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `piece ${piece} p-${file}${rank}`,\n    draggable: true,\n    onDragStart: onDragStart,\n    onDragEnd: onDragEnd\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(Piece, \"Sp8isE722iafHYnlNiP1TMTdChI=\", true);\n_c = Piece;\nexport default Piece;\nvar _c;\n$RefreshReg$(_c, \"Piece\");","map":{"version":3,"names":["Piece","rank","file","piece","_s","appState","dispatch","useAppContext","turn","castleDirection","position","currentPosition","onDragStart","e","dataTransfer","effectAllowed","setData","setTimeout","target","style","display","candidateMoves","arbiter","getValidMoves","length","prevPosition","generateCandidates","onDragEnd","_jsxDEV","className","draggable","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/kgoth/Documents/Personal Projects/Chess_Game/src/components/Board/Pieces/Piece.js"],"sourcesContent":["// import arbiter from '../../arbiter/arbiter';\r\n// import { useAppContext }from '../../contexts/Context'\r\n// import { generateCandidates } from '../../reducer/actions/move';\r\n\r\nconst Piece = ({\r\n    rank,\r\n    file,\r\n    piece,\r\n}) => {\r\n\r\n    const { appState, dispatch } = useAppContext();\r\n    const { turn, castleDirection, position : currentPosition } = appState\r\n\r\n    const onDragStart = e => {\r\n        e.dataTransfer.effectAllowed = \"move\";\r\n        e.dataTransfer.setData(\"text/plain\",`${piece},${rank},${file}`)\r\n        setTimeout(() => {\r\n            e.target.style.display = 'none'\r\n        },0)\r\n\r\n        if (turn === piece[0]){\r\n            const candidateMoves = \r\n                arbiter.getValidMoves({\r\n                    position : currentPosition[currentPosition.length - 1],\r\n                    prevPosition : currentPosition[currentPosition.length - 2],\r\n                    castleDirection : castleDirection[turn],\r\n                    piece,\r\n                    file,\r\n                    rank\r\n                })\r\n            dispatch(generateCandidates({candidateMoves}))\r\n        }\r\n\r\n    }\r\n    const onDragEnd = e => {\r\n       e.target.style.display = 'block'\r\n     }\r\n \r\n    return (\r\n        <div \r\n            className={`piece ${piece} p-${file}${rank}`}\r\n            draggable={true}   \r\n            onDragStart={onDragStart} \r\n            onDragEnd={onDragEnd}\r\n\r\n        />)\r\n}\r\nexport default Piece;"],"mappings":";;;AAAA;AACA;AACA;;AAEA,MAAMA,KAAK,GAAGA,CAAC;EACXC,IAAI;EACJC,IAAI;EACJC;AACJ,CAAC,KAAK;EAAAC,EAAA;EAEF,MAAM;IAAEC,QAAQ;IAAEC;EAAS,CAAC,GAAGC,aAAa,CAAC,CAAC;EAC9C,MAAM;IAAEC,IAAI;IAAEC,eAAe;IAAEC,QAAQ,EAAGC;EAAgB,CAAC,GAAGN,QAAQ;EAEtE,MAAMO,WAAW,GAAGC,CAAC,IAAI;IACrBA,CAAC,CAACC,YAAY,CAACC,aAAa,GAAG,MAAM;IACrCF,CAAC,CAACC,YAAY,CAACE,OAAO,CAAC,YAAY,EAAC,GAAGb,KAAK,IAAIF,IAAI,IAAIC,IAAI,EAAE,CAAC;IAC/De,UAAU,CAAC,MAAM;MACbJ,CAAC,CAACK,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;IACnC,CAAC,EAAC,CAAC,CAAC;IAEJ,IAAIZ,IAAI,KAAKL,KAAK,CAAC,CAAC,CAAC,EAAC;MAClB,MAAMkB,cAAc,GAChBC,OAAO,CAACC,aAAa,CAAC;QAClBb,QAAQ,EAAGC,eAAe,CAACA,eAAe,CAACa,MAAM,GAAG,CAAC,CAAC;QACtDC,YAAY,EAAGd,eAAe,CAACA,eAAe,CAACa,MAAM,GAAG,CAAC,CAAC;QAC1Df,eAAe,EAAGA,eAAe,CAACD,IAAI,CAAC;QACvCL,KAAK;QACLD,IAAI;QACJD;MACJ,CAAC,CAAC;MACNK,QAAQ,CAACoB,kBAAkB,CAAC;QAACL;MAAc,CAAC,CAAC,CAAC;IAClD;EAEJ,CAAC;EACD,MAAMM,SAAS,GAAGd,CAAC,IAAI;IACpBA,CAAC,CAACK,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO;EAClC,CAAC;EAEF,oBACIQ,OAAA;IACIC,SAAS,EAAE,SAAS1B,KAAK,MAAMD,IAAI,GAAGD,IAAI,EAAG;IAC7C6B,SAAS,EAAE,IAAK;IAChBlB,WAAW,EAAEA,WAAY;IACzBe,SAAS,EAAEA;EAAU;IAAAI,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAExB,CAAC;AACV,CAAC;AAAA9B,EAAA,CA1CKJ,KAAK;AAAAmC,EAAA,GAALnC,KAAK;AA2CX,eAAeA,KAAK;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}