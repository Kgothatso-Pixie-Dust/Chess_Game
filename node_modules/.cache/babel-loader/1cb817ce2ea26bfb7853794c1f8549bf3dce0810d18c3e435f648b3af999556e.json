{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kgoth\\\\Documents\\\\Personal Projects\\\\Chess_Game\\\\src\\\\components\\\\Board\\\\Pieces\\\\Piece.js\",\n  _s = $RefreshSig$();\nimport { dir } from 'console';\nimport { useAppContext } from '../../contexts/Context';\nimport { generateCandidates } from '../../reducer/actions/move';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Piece = ({\n  rank,\n  file,\n  piece\n}) => {\n  _s();\n  const {\n    appState,\n    dispatch\n  } = useAppContext();\n  const {\n    turn,\n    position\n  } = appState;\n  const currentPos = currentPosition[currentPosition.length - 1];\n  const getMoves = () => {\n    const moves = [];\n    const us = piece[0];\n    const enemy = us === 'w' ? 'b' : 'w';\n    const directions = [[-1, 0], [1, 0], [0, -1], [0, 1], [-1, -1], [-1, 1], [1, -1], [1, 1]];\n    directions.forEach(dir => {\n      for (let i = 1; i < 8; i++) {\n        const x = rank + dir[0] * i;\n        const y = file + dir[1] * i;\n      }\n    });\n  };\n  const onDragStart = e => {\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"text/plain\", `${piece},${rank},${file}`);\n    setTimeout(() => {\n      e.target.style.display = 'none';\n    }, 0);\n    if (turn !== piece[0]) {\n      const moves = [];\n      const us = piece[0];\n    }\n  };\n  const onDragEnd = e => {\n    e.target.style.display = 'block';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `piece ${piece} p-${file}${rank}`,\n    draggable: true,\n    onDragStart: onDragStart,\n    onDragEnd: onDragEnd\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(Piece, \"Sp8isE722iafHYnlNiP1TMTdChI=\", false, function () {\n  return [useAppContext];\n});\n_c = Piece;\nexport default Piece;\nvar _c;\n$RefreshReg$(_c, \"Piece\");","map":{"version":3,"names":["dir","useAppContext","generateCandidates","jsxDEV","_jsxDEV","Piece","rank","file","piece","_s","appState","dispatch","turn","position","currentPos","currentPosition","length","getMoves","moves","us","enemy","directions","forEach","i","x","y","onDragStart","e","dataTransfer","effectAllowed","setData","setTimeout","target","style","display","onDragEnd","className","draggable","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/kgoth/Documents/Personal Projects/Chess_Game/src/components/Board/Pieces/Piece.js"],"sourcesContent":["import { dir } from 'console';\r\nimport { useAppContext }from '../../contexts/Context'\r\nimport { generateCandidates } from '../../reducer/actions/move';\r\n\r\nconst Piece = ({\r\n    rank,\r\n    file,\r\n    piece,\r\n}) => {\r\n\r\n    const { appState, dispatch } = useAppContext();\r\n    const { turn, position } = appState\r\n    const currentPos = currentPosition[currentPosition.length -1]\r\n\r\n    const getMoves = () => {\r\n        const moves  = []\r\n        const us = piece[0]\r\n        const enemy = us === 'w' ? 'b' : 'w'\r\n        const directions = [\r\n            [-1,0], [1,0], [0,-1], [0,1],\r\n            [-1,-1], [-1,1], [1,-1], [1,1]\r\n        ]\r\n        directions.forEach(dir => {\r\n            for (let i=1; i<8; i++) {\r\n                const x = rank + dir[0]*i\r\n                const y = file + dir[1]*i\r\n            }\r\n        })\r\n    }\r\n        \r\n\r\n    const onDragStart = e => {\r\n        e.dataTransfer.effectAllowed = \"move\";\r\n        e.dataTransfer.setData(\"text/plain\",`${piece},${rank},${file}`)\r\n        setTimeout(() => {\r\n            e.target.style.display = 'none'\r\n        },0)     \r\n        if (turn !== piece[0]) {\r\n            const moves =[]\r\n            const us = piece[0]\r\n        }\r\n\r\n    }\r\n    const onDragEnd = e => {\r\n       e.target.style.display = 'block'\r\n     }\r\n \r\n    return (\r\n        <div \r\n            className={`piece ${piece} p-${file}${rank}`}\r\n            draggable={true}   \r\n            onDragStart={onDragStart} \r\n            onDragEnd={onDragEnd}\r\n\r\n        />)\r\n}\r\n\r\nexport default Piece"],"mappings":";;AAAA,SAASA,GAAG,QAAQ,SAAS;AAC7B,SAASC,aAAa,QAAO,wBAAwB;AACrD,SAASC,kBAAkB,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,MAAMC,KAAK,GAAGA,CAAC;EACXC,IAAI;EACJC,IAAI;EACJC;AACJ,CAAC,KAAK;EAAAC,EAAA;EAEF,MAAM;IAAEC,QAAQ;IAAEC;EAAS,CAAC,GAAGV,aAAa,CAAC,CAAC;EAC9C,MAAM;IAAEW,IAAI;IAAEC;EAAS,CAAC,GAAGH,QAAQ;EACnC,MAAMI,UAAU,GAAGC,eAAe,CAACA,eAAe,CAACC,MAAM,GAAE,CAAC,CAAC;EAE7D,MAAMC,QAAQ,GAAGA,CAAA,KAAM;IACnB,MAAMC,KAAK,GAAI,EAAE;IACjB,MAAMC,EAAE,GAAGX,KAAK,CAAC,CAAC,CAAC;IACnB,MAAMY,KAAK,GAAGD,EAAE,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG;IACpC,MAAME,UAAU,GAAG,CACf,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,EAC5B,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CACjC;IACDA,UAAU,CAACC,OAAO,CAACtB,GAAG,IAAI;MACtB,KAAK,IAAIuB,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAC,CAAC,EAAEA,CAAC,EAAE,EAAE;QACpB,MAAMC,CAAC,GAAGlB,IAAI,GAAGN,GAAG,CAAC,CAAC,CAAC,GAACuB,CAAC;QACzB,MAAME,CAAC,GAAGlB,IAAI,GAAGP,GAAG,CAAC,CAAC,CAAC,GAACuB,CAAC;MAC7B;IACJ,CAAC,CAAC;EACN,CAAC;EAGD,MAAMG,WAAW,GAAGC,CAAC,IAAI;IACrBA,CAAC,CAACC,YAAY,CAACC,aAAa,GAAG,MAAM;IACrCF,CAAC,CAACC,YAAY,CAACE,OAAO,CAAC,YAAY,EAAC,GAAGtB,KAAK,IAAIF,IAAI,IAAIC,IAAI,EAAE,CAAC;IAC/DwB,UAAU,CAAC,MAAM;MACbJ,CAAC,CAACK,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;IACnC,CAAC,EAAC,CAAC,CAAC;IACJ,IAAItB,IAAI,KAAKJ,KAAK,CAAC,CAAC,CAAC,EAAE;MACnB,MAAMU,KAAK,GAAE,EAAE;MACf,MAAMC,EAAE,GAAGX,KAAK,CAAC,CAAC,CAAC;IACvB;EAEJ,CAAC;EACD,MAAM2B,SAAS,GAAGR,CAAC,IAAI;IACpBA,CAAC,CAACK,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO;EAClC,CAAC;EAEF,oBACI9B,OAAA;IACIgC,SAAS,EAAE,SAAS5B,KAAK,MAAMD,IAAI,GAAGD,IAAI,EAAG;IAC7C+B,SAAS,EAAE,IAAK;IAChBX,WAAW,EAAEA,WAAY;IACzBS,SAAS,EAAEA;EAAU;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAExB,CAAC;AACV,CAAC;AAAAhC,EAAA,CAnDKJ,KAAK;EAAA,QAMwBJ,aAAa;AAAA;AAAAyC,EAAA,GAN1CrC,KAAK;AAqDX,eAAeA,KAAK;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}